<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Схема склада</title>

  <style>
    .switch {
      color: black;
    }
  </style>

</head>

<body>
<h1 align="center">Схема склада</h1>

<!--<div class="row">-->
  <!--<div class="large-1 small-1 columns">-->
    <app-scheme-goods-list [id_invoice]="id_invoice" *ngIf="isReplaceAction"></app-scheme-goods-list>
  <!--</div>-->
<!--</div>-->



<a *ngIf="!isPutAction" (click)="addSpace(id_warehouse)">Добавить space</a>
<div class="switch" *ngIf="!isPutAction">
  Показывать удалённые хранилища
  <input class="switch-input" id="exampleSwitch" type="checkbox" name="exampleSwitch" [(ngModel)]="isShowDeletedSpace">
  <label class="switch-paddle" for="exampleSwitch">&nbsp;
    <small>On</small>&nbsp;&nbsp;&nbsp;<small>Off</small>
    <span class="show-for-sr">Download Kittens</span>
  </label>
  Показывать удалённые ячейки
  <input class="switch-input" id="exampleSwitch2" type="checkbox" name="exampleSwitch2" [(ngModel)]="isShowDeletedCell">
  <label class="switch-paddle" for="exampleSwitch2">&nbsp;<small>On</small>&nbsp;&nbsp;&nbsp;<small>Off</small>
    <span class="show-for-sr">Download Kittens</span>
  </label>
</div>

<div *ngFor="let space of storageSpace">
  <div *ngIf="space.status || isShowDeletedSpace">
    <div ngClass="{{getClassSpace(space)}}">
      <h5 align="center">{{space?.idStorageSpace}} - {{space?.storageSpaceType.name}}
        <a *ngIf="!isPutAction && (space.status || isShowDeletedSpace)" (click)="editSpace(space?.idStorageSpace)"><i
          class="fi-pencil"></i></a>
        <a *ngIf="!isPutAction && space.status" (click)="deleteSpace(space?.idStorageSpace)"><i class="fi-x"></i></a>
        <a *ngIf="!isPutAction && !space.status && isShowDeletedSpace" (click)="restoreSpace(space?.idStorageSpace)"><i
          class="fi-trash icon"></i></a>
      </h5>

      <div *ngFor="let cell of space.storageCellList">
        <div *ngIf="cell.status || isShowDeletedCell">
          <div [ngSwitch]="true">
            <a *ngSwitchCase="cell?.goods == null && !isPutAction" class="cell-disable"
               ngClass="{{isDeleted(cell)}}"
               (click)="editCell(space?.idStorageSpace, cell?.idStorageCell)">{{cell?.number}}</a>
            <a *ngSwitchCase="cell?.goods != null && !isPutAction" class="cell"
               (click)="editCell(space?.idStorageSpace, cell?.idStorageCell)">{{cell?.number}}</a>

            <a *ngSwitchCase="isPutAction && id_type==space?.storageSpaceType.idStorageSpaceType"
               ngClass="{{getClassCellSelected(cell)}}"
               (click)="putInCell(cell)">{{cell?.number}}</a>

            <a *ngSwitchDefault disabled="" class="cell">{{cell?.number}}</a>
          </div>
        </div>
      </div>
      <a *ngIf="!isPutAction" class="cell" (click)="addCell(space?.idStorageSpace)"><i class="fi-plus"></i></a>
    </div>
  </div>
</div>

<button *ngIf="isPutAction && !isReplaceAction" (click)="submitPut()" class="button">Ок</button>
<button *ngIf="isPutAction && isReplaceAction" (click)="fixCurrentState()" class="button">Выбрать следующий товар</button>
<button *ngIf="isPutAction && isReplaceAction" (click)="fixCurrentState()" class="button">Подтвердить выбор</button>
</body>
</html>

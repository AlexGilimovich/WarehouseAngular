<table class="hover">
  <tr>
    <th>
      <input type="checkbox" (change)="selectAllEvent($event)">
    </th>
    <th (click)="sort('name')">Наименование</th>
    <th (click)="sort('storageType')">Тип хранения</th>
    <th (click)="sort('quantity')">Количество</th>
    <th (click)="sort('quantityUnit')">Ед.изм.</th>
    <th (click)="sort('price')">Цена</th>
    <th (click)="sort('priceUnit')">Ед.изм.</th>
    <th (click)="sort('weight')">Вес</th>
    <th (click)="sort('weightUnit')">Ед.изм.</th>
    <th (click)="sort('status')">Статус</th>
    <th (click)="sort('storageCell')">Ячейка</th>
    <!--<th (click)="sort('storageCell')">Место</th>-->
  </tr>
  <tr *ngFor="let goods of goodsList">
    <td>
      <input type="checkbox" [(ngModel)]="goods.selected" value="{{goods.goods.id}}"
             (change)="selectOneEvent($event)">
    </td>
    <td class="clickable" (click)="goToDetails(goods.goods.id)">
      {{goods.goods.name}}
    </td>
    <td>
      {{goods.goods.storageType.name}}
    </td>
    <td>
      {{goods.goods.quantity}}
    </td>
    <td>
      {{goods.goods.quantityUnit.name}}
    </td>
    <td>
      {{goods.goods.price}}
    </td>
    <td>
      {{goods.goods.priceUnit.name}}
    </td>
    <td>
      {{goods.goods.weight}}
    </td>
    <td>
      {{goods.goods.weightUnit.name}}
    </td>
    <td>
      <select id="statusName" name="statusName" [ngModel]="goods.goods.status?.name"
              (ngModel)="goods.goods.status.name" (change)="statusChanged($event, goods)">
        <option *ngFor="let statusName of statusNames" [value]="statusName.name">
          {{statusMessages.get(statusName.name)}}
        </option>
      </select>
    </td>

    <td (click)="putInStorage(goods)">
      <div *ngFor="let cell of goods.goods?.storageCell">
        {{cell.idStorageCell}}
      </div>
    </td>

  </tr>
</table>

<ul class="pagination text-center">
  <li [ngClass]="{'pagination-previous':true, 'disabled':currentPage==1}" *ngIf="totalPageCount<=1"><span
    [ngClass]="{'show-for-sr':currentPage==1}"><a (click)="getPage(currentPage-1)"></a></span></li>
  <li [ngClass]="{'page-current': currentPage==page}" *ngFor="let page of pageArray; let i=index;">
    <a (click)="getPage(page)">{{page}}</a>
  </li>
  <li [ngClass]="{'pagination-next':true, 'disabled': (currentPage==totalPageCount)}" *ngIf="totalPageCount<=1"><span
    [ngClass]="{'show-for-sr':currentPage==totalPageCount}"><a (click)="getPage(currentPage+1)"></a></span></li>
  <div class="item-counter">
    <select name="items-count-selector" id="items-count-selector" [(ngModel)]="itemsOnPage" (change)="getPage(1)">
      <option *ngFor="let item of itemsOnPageArray; let i=index" [ngValue]=item>{{item}}</option>
    </select>
  </div>
</ul>



<div class="reveal" id="storageModal" data-reveal>
  Тип хранения:
  <select id="storageType" name="storageType" (ngModel)="goods.goods.storageType.name">
    <option *ngFor="let type of storageTypes" [value]="type.name"
            [selected]="goods.goods.status?.name == statusName.name">
      {{storageTypeMessages.get(statusName.name)}}
    </option>
  </select>
  Выбрать помещение:


</div>



<!--SET STATUS TO SELECTED MODAL-->
<div class="reveal" id="statusModal" data-reveal data-close-on-click="false">
  <button class="close-button" type="button" data-close (click)="close()">
    <span aria-hidden="true">&times;</span>
  </button>
  <label for="status">Статус:</label>
  <select id="status" name="status" (ngModel)="selectedGoods.goods.status.name">
    <option *ngFor="let statusName of statusNames" [value]="statusName.name"
            [selected]="selectedGoods.goods.status?.name==statusName.name">
      {{statusMessages.get(statusName.name)}}
    </option>
  </select>
  <label for="note">Примечание:</label>
  <textarea name="note" id="note" cols="30" rows="10" (ngModel)="selectedGoods.goods.status.note"></textarea>
</div>
